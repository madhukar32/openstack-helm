# MVP values for neutron.
# This file contains overrides to launch a MVP deployment of neutron for the
# OpenStack-Helm gates, and local development use. It should be
# kept to the bare minimum required for this purpose.

network:
  backend: opencontrail
  interface:
    tunnel: docker0

images:
  tags:
    # For opencontrail, use below metadata image
    metadata: docker.io/kolla/ubuntu-binary-neutron-metadata-agent:3.0.3

dependencies:
  server:
    daemonset:
      - contrail-config
  metadata:
    daemonset:
      - contrail-agent

conf:
  neutron:
    DEFAULT:
      core_plugin: neutron_plugin_contrail.plugins.opencontrail.contrail_plugin.NeutronPluginContrailCoreV2
      service_plugins: neutron_plugin_contrail.plugins.opencontrail.loadbalancer.v2.plugin.LoadBalancerPluginV2
      l3_ha: False
      api_extensions_path: /opt/plugin/site-packages/neutron_plugin_contrail/extensions:/opt/plugin/site-packages/neutron_lbaas/extensions
      interface_driver:
    quotas:
      quota_driver: neutron_plugin_contrail.plugins.opencontrail.quota.driver.QuotaDriver
  plugins:
    opencontrail:
      APISERVER:
        # IP-s can be provided via '--set' option of 'helm install' command
        #api_server_ip: 10.87.65.153
        api_server_port: 8082
        contrail_extensions: "ipam:neutron_plugin_contrail.plugins.opencontrail.contrail_plugin_ipam.NeutronPluginContrailIpam,policy:neutron_plugin_contrail.plugins.opencontrail.contrail_plugin_policy.NeutronPluginContrailPolicy,route-table:neutron_plugin_contrail.plugins.opencontrail.contrail_plugin_vpc.NeutronPluginContrailVpc,contrail:None,service-interface:None,vf-binding:None"
        multi_tenancy: True
      keystone_authtoken:
        auth_host: keystone-api.openstack
        auth_port: 35357
        auth_protocol: http
        admin_user: admin
        admin_password: password
        admin_tenant_name: admin
        insecure: True
        region_name: RegionOne

manifests:
  daemonset_dhcp_agent: false
  daemonset_l3_agent: false
  daemonset_lb_agent: false
  daemonset_metadata_agent: false
  daemonset_ovs_agent: false
